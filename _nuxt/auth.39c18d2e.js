import{r as l,d as m,l as h,n as d}from"./entry.cb067164.js";const u=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function w(e,r){if(typeof e!="string")throw new TypeError("argument str must be a string");const i={},a=(r||{}).decode||x;let n=0;for(;n<e.length;){const o=e.indexOf("=",n);if(o===-1)break;let s=e.indexOf(";",n);if(s===-1)s=e.length;else if(s<o){n=e.lastIndexOf(";",o-1)+1;continue}const f=e.slice(n,o).trim();if(i[f]===void 0){let c=e.slice(o+1,s).trim();c.codePointAt(0)===34&&(c=c.slice(1,-1)),i[f]=g(c,a)}n=s+1}return i}function p(e,r,i){const t=i||{},a=t.encode||S;if(typeof a!="function")throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");const n=a(r);if(n&&!u.test(n))throw new TypeError("argument val is invalid");let o=e+"="+n;if(t.maxAge!==void 0&&t.maxAge!==null){const s=t.maxAge-0;if(Number.isNaN(s)||!Number.isFinite(s))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(s)}if(t.domain){if(!u.test(t.domain))throw new TypeError("option domain is invalid");o+="; Domain="+t.domain}if(t.path){if(!u.test(t.path))throw new TypeError("option path is invalid");o+="; Path="+t.path}if(t.expires){if(!y(t.expires)||Number.isNaN(t.expires.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+t.expires.toUTCString()}if(t.httpOnly&&(o+="; HttpOnly"),t.secure&&(o+="; Secure"),t.priority)switch(typeof t.priority=="string"?t.priority.toLowerCase():t.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(t.sameSite)switch(typeof t.sameSite=="string"?t.sameSite.toLowerCase():t.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}function y(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function g(e,r){try{return r(e)}catch{return e}}function x(e){return e.includes("%")?decodeURIComponent(e):e}function S(e){return encodeURIComponent(e)}const b=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,N=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,k=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function C(e,r){if(e!=="__proto__"&&!(e==="constructor"&&r&&typeof r=="object"&&"prototype"in r))return r}function E(e,r={}){if(typeof e!="string")return e;const i=e.toLowerCase().trim();if(i==="true")return!0;if(i==="false")return!1;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i!=="undefined"){if(!k.test(e)){if(r.strict)throw new SyntaxError("Invalid JSON");return e}try{return b.test(e)||N.test(e)?JSON.parse(e,C):JSON.parse(e)}catch(t){if(r.strict)throw t;return e}}}const T={path:"/",watch:!0,decode:e=>E(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function I(e,r){var n;const i={...T,...r},t=O(i)||{},a=l(t[e]??((n=i.default)==null?void 0:n.call(i)));{const o=()=>{F(e,a.value,i)};i.watch?m(a,o,{deep:i.watch!=="shallow"}):o()}return a}function O(e={}){return w(document.cookie,e)}function P(e,r,i={}){return r==null?p(e,r,{...i,maxAge:-1}):p(e,r,i)}function F(e,r,i={}){document.cookie=P(e,r,i)}const A=h(async(e,r)=>{const i=I("auth"),t=useProfile();if(i.value&&(t.value=i.value),i.value&&e.fullPath=="/login")return d("/");if(!i.value&&e.fullPath!="/login")return d("/login")});export{A as default};
